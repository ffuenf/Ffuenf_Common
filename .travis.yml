language: php
sudo: false
php:
- 5.3
- 5.4
- 5.5
- 5.6
- 7.0
matrix:
  allow_failures:
  - env: MAGENTO_VERSION=magento-ce-1.9.1.1
  - env: MAGENTO_VERSION=magento-ce-1.9.1.0
  - php: 5.3
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.2
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.1
  - php: 5.4
    env: MAGENTO_VERSION=magento-ce-1.9.2.0
  - php: 5.6
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  - php: 7.0
    env: MAGENTO_VERSION=magento-mirror-1.8.1.0
  fast_finish: true
env:
  global:
  - APPNAME=Ffuenf_Common
  - secure: FnUqy2mOv1vXCJQF87a+fspz5fczFGcmWEHDVcl21gfrXxrZISpFrw63njIhEWxbs4pcHYNJej2jQA8mbBrB82B9enaptcuPmbQNhGHAFBE4KPXFIaiybCCSVxpyhdjEIBnVZbljyAHOlZmcGTPU2HDqoc0WdOGrCY/hjRoI8Z3J17Ylp8wtLqwMScjcxM3zcfnmbsQ5eVJkSR7DnJARsPxggCouaMA/pYXlKxM20CQnbNlRkCdSdl+njZpBB7xEPjd6W091SlYP5EC+rU31HwltnYBz+gFsVljqD2FOzZzK0Vnw+2JICkoqhlJiwZ9eDnc6on47QJ1uwhyKWW1QrKfIrZezQAsPHfCzCKp35ED6294YKAWJuC67Fik6bFX72eNz5KMo3MR5NSQW9pAVxJR4PKN2FEtvtcrzHU60t7Bfo8j0BfIeBX2z7YKjHbY76z7OgqFEFjEXoyPBOpftESRC9wLukbWGZ5HU8H7eMQe9BT3+qO3kxGhafH8MnzoN/WlL7k3h22wLrtlNnHg/NoMfR+vGg63CB2S0R/Sf5OYuJrzbOp1yhRw5nvn8V3+kSscC8tA1kvXJCrx6IwMsTXTUAv9R9FpylTqFF9kha8MYUqzcSiVk1q0Nzsx43zSJ7IRHxpSSUGuHzggVkboVFXOFR98GDRekKGNKMDy+wys=
  - secure: XqZN9A9T9iysJEF3zacFPUQNMvid+ZPIKnJ2N07au5Hl88vAGq3bdynr3C/vvsEAF0SW9oPKdP7mVTp4j/wVoDMFM3Ejvqat682Yotua8NgPHi9NK1Zt/9GO/u48HCRSp0lq97X9fc8XXXwHnmDYoQIp5WH0MXNjEP1Ly8YSVk4DtocBUwPdXj7JObSSmxMtU62/dzeiz60vnKqDbHcZjYPpSwN5vxbpJkn57iZdSml0jLT+NLiNJxqPx+tFKF0scsAvJjsuAMift5IvO4uox6eLGFc6S8ozQVx85F+H8hsxqdy70SANhGWDDTgMbcV1jooB3c88AQp6UtYO00HJ/ejIAmffgbNESA/Bl3vmQiTYwC1u9JdPfXclUK56bdF/izfcB3rkpAMycCWRxBZ5WdVbY8h/zMoIJ3wiSsDZFDipyTt5M+capt1Nc6+8Hj2i1oTzRXxWoEt2kv0WHPDzSpkj4Kxi4arf++AWIuEsU8/Y4lH6xxPUcLeGcWYQYdznioiei9IT+WIl5FXnFA5OYbnr1dYZhYrbabEGxE61E57yKQmxzFXmAYNzygavbKf5ZW6HrQQvu6aoBMLI6FYdRCmw29dkpdyq5FxJCyHSi9fk0GjhHsVYO5IqwP4r/E0kF01Ggsc7dYIaA0NUrRMH9gSYd9o4M60VF5SmKCkZIoU=
  - secure: DQJmt073SfTVIl/grgDq7hmB6jbCsP3X8gwMpH2njvfnHzdq08KGEf/hTBPnb4kN8IeBWDXCmSB3eFMFduB1Cg2X+DNGkyUOp2EhwHydVYNb3xkduXfcb3ytDNjdKu5QTBagsfOEdAIb2pUj+qgAaTClj8dgZf2dHBpp3QiCs222eak66IHRzMedzsznecYMkI3HkVOr2yI2z4AcCRirJXC0REvfqWx/jq6FSnOeklci1CEQFm+fbClSXpe9VX0M0Rda1amefszLJh7zr9PeOIgZkdQxRLPeeHQ8hQ6yS4lE+ZIj4y9WswYufvmwRKKnZY6xVifXhPqWJi9iSJOcCorXvh6eGvMaAonWHAWNYNHsKvJLAnWq99Wxc/91tpr+o7IRNWAOgLxmglXmxC455d1z0DoXYNzQC0pVOsml1xXGVTbRvv0aJGtUMQg8711nTndu3gzt0uez5gp4sJFIVc5A8/y+cLxVgBjJHf8B7T1jh90HdPeqevIAAzFzVhWwK6d8WxQ5+RKwYu7seRODX9+nefD3C+VRdo2omYHoghMbmctPhzTxa/zz/z5La0MKS6xNldioVH8GSRXopYMiciWnPnOdM4NkG/WErehwm+EkUVgq5/GklkZaIQqTAxdqetGUwaHQbeMnU80pRpOzpe5yAKv/56PwUrGSFXGsAsE=
  matrix:
  - MAGENTO_VERSION=magento-ce-1.9.2.2
  - MAGENTO_VERSION=magento-ce-1.9.2.1
  - MAGENTO_VERSION=magento-ce-1.9.2.0
  - MAGENTO_VERSION=magento-ce-1.9.1.1
  - MAGENTO_VERSION=magento-ce-1.9.1.0
  - MAGENTO_VERSION=magento-mirror-1.8.1.0
  - MAGENTO_VERSION=magento-mirror-1.7.0.2
  - MAGENTO_VERSION=magento-mirror-1.6.2.0
before_script:
- composer self-update
- composer install --prefer-source
script:
- curl -sSL https://raw.githubusercontent.com/ffuenf/MageTestStand/master/setup.sh | bash
before_deploy:
- gem install mime-types -v 2.6.2
deploy:
  provider: releases
  file:
  - "${APPNAME}-${TRAVIS_TAG}.zip"
  - "${APPNAME}-${TRAVIS_TAG}.tar.gz"
  skip_cleanup: true
  on:
    branch: master
    tags: true
  api_key:
    secure: eBvG5hAFcQPUZxgRsxKAyTYWGyIkyG0jm6J1CucSXLiKy0O5jFfB1XsvX8txkVZFqvYJBXeMHxVJLpsMjI9zfoWMPdN5onWOMvQKZb+RmUZOgem59IefgZC3UvRTD3JG4L5OHG0YXzLIaB/GSIdBmOO4NCIp8Td6vh+DIp/U2SJMbRtK8dVBLOa8vIjltjIcSIpoMTBB0fWf1SKHqb7e8gYKsFxqvOpv1CD+DKcE6ypErL6NfzsQZll4qzso2grU+gcl9QYBk6hNIrBDF/sfCH0LJrL7jfvRyCANYn1c+zkXlSbxaxVOZObNFuaFatrt1RL5vqbJo23uK3akov0AjM9WN8ATBCmYyEctIMS9853/lrerLeg5vjix6PwPUw0Psox1nBLDzNbB7ITYCbG447e0l393O+IAmD0WHg0G+JzeJQeQdpWaN6apyA7pdyPBBqFnbTWKI8MySaUy9e3m91k6gh+2CD8bdVJvPvKUn4sFh7knMKmqwYzYIQ4NBAi1K7py1fBvBjvD4R1Wi9Zp7/gYsqRmwHRcwvpdBs7pQQTtcnqgwoBUSjiuNH2vJdavcVCnk2iZSzYeMeyYvaB1bcfuXevKfGrZptKDQ/sKT7gt+N7fnSHJwQ0cxoldg9v8KEmK5OAWgIuryafwI/Sk3k0VCN/KwnwAy5uy8YMNuhw=
notifications:
  slack:
    secure: Moy22HpYisqa4AwZ8GE4+t5uoiDQmpbGun7rX0U5CVz5fzK/tsHgZJlyky2QKU8gqDvY2xAIeIWiB+Dv5cCjhnOlxdu/HRT9IW+VEw+sj0RRR2TuATJYZJJScXmOJcEPwp07tuesvXfaQH5i4HqGoQ+97pd8xKxYuzZH5FlYkbhXWGpfwd44aRi7mPLXTBLR2RdaUVHx8WeMTalwQY4wAhIX7j6zm5CYzFsWIBgdcbOT/CgH0fSok2GXLbIDhE8X/xMja0E4JqZASxnSFEqQr921fjZ5cS9Vr6dREYUM+dafaJlbd8zHKpPgq/PFN3XWAeBGK/J45F8KCes/kVZEYeX6n8WRqcrJLnkFF6ZTAyvfgDhzRK5r+mkkbTJ5UOQbqBpmidx5FLAos3Sxn/v/F8aUzCaWLeDSGxHCULx+3N36r+vBqvkXuYrVEQiLc1yknEEb8RgHxnvPr0gVwmdVdQF4Ju0hi1JTwsF436zLCIH85OF0qvLFznEhj7HfuyZej3sj14ct/xuKjAUQYclwao0c3yeRCGsNvioEEA0+M75Fm9ew+XP+3nO83+/vPfKpGX1eOiZs3KA3FbKzBDWPsRShHs8dSc4Ma8m2u7zl1G5+1Oft6RfG6E1KHQzexMj/RlhoIFPRmAbifSLI2jHz3YKugsUCudOyrYFVrx9mb5Y=
